---
import { type FragmentOf, readFragment } from "../../graphql";
import { ImageBlockFragment } from './fragments';
import { ResponsiveImage } from '../../ResponsiveImage';

interface Props {
  block: FragmentOf<typeof ImageBlockFragment>;
}

const { block } = Astro.props;

// Read unmasked block from fragment
const unmaskedBlock = readFragment(ImageBlockFragment, block);
---

<figure>
  {/* Display responsive image */}
  <ResponsiveImage data={unmaskedBlock.asset.responsiveImage} />
  {/* Display image title */}
  <figcaption>{unmaskedBlock.asset.title}</figcaption>
</figure>
